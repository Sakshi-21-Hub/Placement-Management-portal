

<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Usha Mittal Institute Of Technology</title>
    <!-- Owl Stylesheets -->
    <!-- <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">-->
    <!--<link rel="stylesheet" href="css/font-awesome.min.css" type="text/css" />-->
    <link href="https://sameer.gov.in/public/website/css/fonts-awesome.min.css " rel="stylesheet">
    <link href="https://sameer.gov.in/public/website/css/font-awesome.min.css " rel="stylesheet">
    <link href="https://sameer.gov.in/public/website/css/bootstrap.min.css " rel="stylesheet">
    <link rel="stylesheet" href="https://sameer.gov.in/public/website/css/carousel.css">
    <link rel="stylesheet" href="https://sameer.gov.in/public/website/css/slick.css ">
    <link rel="stylesheet" href="https://sameer.gov.in/public/website/css/owl.carousel.min.css">
    <link rel="stylesheet" href="https://sameer.gov.in/public/website/css/owl.theme.default.min.css ">
    <link rel="stylesheet" href="https://sameer.gov.in/public/website/css/fancybox.css ">
    <link rel="stylesheet" href="https://sameer.gov.in/public/website/css/utilities.css ">
    <link rel="stylesheet" type="text/css" class="themeCss" title="blue-theme"
        href="https://sameer.gov.in/public/website/css/blue.css ">
    <link href="https://sameer.gov.in/public/website/css/style.css " rel="stylesheet" type="text/css">
    <link href="https://sameer.gov.in/public/website/css/responsive.css " rel="stylesheet">
    <link rel="alternate stylesheet" type="text/css" media="screen" title="black-theme"
        href="https://sameer.gov.in/public/website/css/black.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
        
        <!-- <img src="images/logo/logo.png" alt="" width="20%" height="auto" > -->

    <link rel='shortcut icon' type='image/x-icon' href='images/logo/logo.png'>
    <style>
    #myBtn {
        border-radius: 50%;
        display: none;
        position: fixed;
        bottom: 20px;
        right: 30px;
        z-index: 99;
        font-size: 18px;
        border: none;
        outline: none;
        background-color: #ff8a00;
        color: white;
        cursor: pointer;
        padding: 10px;
        border-radius: 20px;
    }

    #myBtn:hover {
        background-color: #555;
    }
    .social-media ul{
        list-style-type: none;
        padding: 0;
        margin: 0;
    }
    .social-media li{
        display: inline-block;
        margin-right: 10px;
    }
    .social-media a{
        display: inline-block;
        width: 40px;
        height: 40px;
        background-color: #333;
        border-radius: 50%;
        text-align: center;
        line-height: 40px;
        color: #fff;
        font-size: 20px;
        transition: background-color 0.3s ease;
    }
    .social-media a:hover{
        background-color: #4267B2;     /*Facebook*/
    }
    .social-media a.twitter{
        background-color: #1DA1F2;
    }
    .social-media a.instagram{
        background: #833AB4;
        background: linear-gradient(to right, #833AB4, #E1306C);
    }
    .social-media a.linkedin{
        background-color: #0077B5;
    }
    body {
            font-family: 'Arial', sans-serif;
            background-color: #f5f5f5;
            margin: 0;
            padding: 0;
        }

        .section {
            background-color: #ffffff;
            margin: 2px;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        h2 {
            color: #333;
            border-bottom: 2px solid #333;
            padding-bottom: 5px;
            margin-bottom: 15px;
            text-align: center; 
            margin-top: 50px;
        }
            .col-lg-4 {
            flex: 0 0 auto;
        }
        .section {
            margin-bottom: 40px;
            background-color: #fff;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .section:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .section p {
     
        line-height: 1.4;
        color: #333;
        text-align: center;
        margin-bottom: 10px;
        font-weight: normal;
        font-family: 'Arial', sans-serif; /* Add the desired font family */
        text-transform: none;
    }

    body {
            font-family: Arial, sans-serif;
            background-color: #f8f9fa;
            margin: 0;
            padding: 0;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .heading {
            text-align: center;
            font-size: 36px;
            color: #007bff;
            margin-bottom: 30px;
        }

        .contact-section {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            align-items: flex-start;
        }

        .contact-card {
            flex: 1 1 calc(33.33% - 20px);
            background-color: #fff;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .contact-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);
        }

        .contact-card h2 {
            color: #007bff;
            font-size: 20px;
            margin-bottom: 10px;
        }

        .contact-card p {
            color: #555;
            line-height: 1.6;
            margin: 0;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.4);
        }

        .modal-content {
            background-color: #fefefe;
            margin: 15% auto;
            padding: 20px;
            border-radius: 10px;
            border: 1px solid #888;
            width: 80%;
            animation: zoomIn 0.3s;
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .close:hover,
        .close:focus {
            color: #000;
            text-decoration: none;
            cursor: pointer;
        }

        /* Animation */
        @keyframes zoomIn {
            from {
                transform: scale(0);
            }
            to {
                transform: scale(1);
            }
        }

    #circleStatsContainer {
         display: flex;
        flex-wrap: wrap; /* Allow items to wrap to the next line */
        justify-content: space-around;
        margin-top: 30px;
    }

    /* Individual Circular Stat */
    .circle-stat {
        text-align: center;
        color: #333;
        font-family: 'Arial', sans-serif;
        margin-bottom: 20px; /* Add margin to create space between items */
        width: 30%;
    }

    /* Circular Stat Canvas */
    canvas {
        margin-top: 10px;
        color: navy;
         margin: 0 auto;
    }


    /* Placement Statistics Table */
    #placementTable {
        width: 100%;
        border-collapse: collapse;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
        margin-top: 30px;
    }

    #placementTable th,
    #placementTable td {
        border: 1px solid #ddd;
        padding: 10px;
        text-align: center;
        font-size: 20px;
        color: black;
    }
    

    #placementTable th {
        background-color: navy;
        color: white;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        font-weight: bold;
        font-size: 20px;
    }

    #placementTable tr:nth-child(even) {
        background-color: #f8f8f8;
    }

    #placementTable tr:hover {
        background-color: #eaeaea;
    }


        .card {
            max-width: 300px;
            border-radius: 10px;
            box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);
            padding: 20px;
            margin: 10px;
            text-align: center;
            animation: scroll 20s linear infinite;
        }

        img {
            max-width: 100%;
            height: auto;
        }

        @keyframes scroll {
            0% {
                transform: translateX(100%);
            }
            100% {
                transform: translateX(-100%);
            }
        }
                        .box {
                            padding: 20px;
                            border-radius: 10px;
                            transition: background-color 0.3s, box-shadow 0.3s;
                            background-color: #fff;
                            box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);
                            margin-bottom: 20px;
                            margin-top: 20px;
                        }

                        .box:hover {
                            background-color: #007bff;
                            color: #fff;
                            box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.3);
                        }
    </style>


</head>

<body>
    <header class="mainHeader">
        <div class="top_header">
            <div class="Main_page">
                <div class="row">
                    <div class="col-lg-4">
                        <div class="Sitemap">
                            <a href="javascript:void(0);" class="topLinks"><i class="fa fa-angle-down"
                                    aria-hidden="true"></i></a>
                            <ul>
                                <li style="color: #000">
                                    <script>
                                    var mydate = new Date()
                                    var year = mydate.getYear()
                                    if (year < 1000)
                                        year += 1900
                                    var day = mydate.getDay()
                                    var month = mydate.getMonth()
                                    var daym = mydate.getDate()
                                    if (daym < 10)
                                        daym = "0" + daym
                                    var dayarray = new Array("Sunday", "Monday", "Tuesday", "Wednesday", "Thursday",
                                        "Friday", "Saturday")
                                    var montharray = new Array("January", "February", "March", "April", "May", "June",
                                        "July", "August", "September", "October", "November", "December")
                                    document.write(" " + daym + " " + montharray[month] + ", " + year + ", " + dayarray[
                                        day] + " ")
                                    </script>
                                </li>
                                <li> <a href="https://maps.app.goo.gl/HLgegr26r2QFkavj8" title="Umitmap">UMIT</a></li>
                                <!--<li> <a href="#">FAQ </a></li>-->

                            </ul>
                        </div>
                    </div>
                    <div class="col-lg-8">
                        <div class="Top_Nav">
                            <ul>
                            <li class="resLink">
                                    <a href=".section" id="skipMain" title="Skip to Main Content">Skip to Main Content</a>
                                </li>

                                <!-- <li class="resLink"> <a href="Screen_Reader_Access" title="Screen Render Access"> Screen Render Access </a></li> -->
                                <li class="resLink icont-wrap"> <span id="btn-decrease" title="Decrease font size"> A-</span> 
                                 <span id="btn-orig" title="Reset font size">A
                                    </span><span id="btn-increase" title="Increase font size">A+</span></li>
                                <li class="colorChange">
                                    <a href="javascript:void(0)" data-color="blue" class="blue" title="blue"></a>
                                    <a href="javascript:void(0)" data-color="black" class="black" title="black"></a>
                                    <a href="javascript:void(0)" data-color="green" class="green" title="green"></a>
                                </li>

                                <!-- <li class="resLink langList ">
                                    <a href="javascript:void(0)" class="lanSel changeLang"> <button name="lang"
                                            id="lang" type="button" value="hi" title="Hindi"
                                            style="background: #1b1a1a; border: none;  color: #fff; cursor: pointer;">Hindi</button>
                                    </a>
                                </li> -->

                                                                <!--not working this link <li class="resLink langList"> 
                  <a href="#" value="en" class="lanSel"> English </a>
                  <ul class="langDrop" id ="lang">
                    <li><a href="#" value="hi" class="lanTam">हिंदी</a></li>
                    <li><a href="#" value="en" class="lanEng">English</a></li>
                  </ul>
                </li>  -->
                            </ul>
                            <div class="social-media">
                                <ul>
            <li><a href="https://www.facebook.com/umit.sndtwu/" target="_blank" title="Facebook" class="facebook"><i class="fab fa-facebook-f"></i></a></li>
            <li><a href="https://twitter.com/umitsndtwu/status/1465696148018974743?s=24" target="_blank" title="Twitter" class="twitter"><i class="fab fa-twitter"></i></a></li>
            <li><a href="https://www.instagram.com/umit_sndtwu/?utm_medium=copy_link" target="_blank" title="Instagram" class="instagram"><i class="fab fa-instagram"></i></a></li>
            <li><a href="https://www.linkedin.com/authwall?trk=bf&trkInfo=AQEdcFShSQNmwQAAAYuaNkm4kBMQiVtDPeXhQR5JtkT4gR1TyCSeB3fMqpHqAHZrJD6gHl0exbCl10ivfvMm2iVQsDisN_FKUyMYxH3QSj-jEBalDCRpFuG3rmVx1RAdPqT8mNo=&original_referer=&sessionRedirect=https%3A%2F%2Fwww.linkedin.com%2Fcompany%2Fumitsndtwu%2F" target="_blank" title="LinkedIn" class="linkedin"><i class="fab fa-linkedin"></i></a></li>
        </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="clear"></div>
        <div class="Bottom_Header">
            <div class="Main_page">
                <div class="row logo">
                    <div class="col-lg-9 d-flex logoWid">
                        <a href="index.php" title="UMIT"><img src="images/logo/logo.png"
                            style="margin-top: 12px;"
                            alt="UMIT Logo"></a>
                        <div class="header-md">
                       <!-- <a href="https://www.g20.org/en/" target="_blank" title="G20"><img src="https://sameer.gov.in/public/website/images/g20logo.jpg"
                                style="background-color: #fff; border-radius: 5px;margin-top: 12px;"
                                alt="G20"></a>-->
                            <div class="header-right">
                                <!--<h3>Society for Applied Microwave Electronics Engineering & Research</h3>-->
                                                                <h3>Usha Mittal Insitute Of Technology</h3>
                                <h4>SNDT Womens University Mumbai</h4>
                                <!-- <h4>Government of India</h4> -->
                                


                            </div>
                        </div>
                    </div>
                    <!-- <div class="col-lg-3 blue-search-box">
                        <a href="javascript:void(0);" class="searchBtn"><i class="fa fa-search"
                                aria-hidden="true"></i></a>
                        <form class="example" action="https://sameer.gov.in/search" id="search_form">
                        <label for="searchval" style="display:none">search</label>
                        <input class="form-control " aria-labelledby="searchval" id="searchval" placeholder="Search for..." name="searchval" type="text">
                            
                            <button type="submit"><i class="fa fa-search"></i></button>
                        </form>
                        </form>

                    </div> -->
                </div>
            </div>
        </div>
        <div class="clear"></div>
        <div class="topnav" id="myTopnav">
            <div class="resMenu">
                <a href="javascript:void(0);" class="menuBtn"><i class="fa fa-bars" aria-hidden="true"></i></a>
            </div>
            <div class="menuPage">
                <div class="resMainmenu">
                    <a href="javacript:void(0);" class="menuClsBtn"><i class="fa fa-times" aria-hidden="true"></i></a>
                    <ul class="navMenu">
                                                                                                                        <li class=""><a href="index.php"
                                class="active" title="Home">
                                                                Home
                                                                 </a>
                                                    </li>
                                                    <li class=""><a href="placementguideline.php"
                                class="" title="Placement Guidelines">
                                                                <!-- Recruitment &amp; Training -->
                                                                Placement Guidelines
                                                                 </a>
                                                    </li>
                        
                                                                                                <li class=""><a href="alumini.php"
                                class="" title="Alumni">
                                                                <!-- Recruitment &amp; Training -->
                                                                Alumni
                                                                 </a>
                                                    </li>

                                        
                                                    <li class=""><a href="link.php"
                                class="" title="Social-Media">
                                                                Social-Media
                                                                 </a>
                                                    </li>

                                                    
                                        
                                                    <li class=""><a href="student_team.php"
                                class="" title="Placement Cell">
                                                                Placement Cell
                                                                 </a>
                                                    </li>
                                                                                                <li class=""><a href="FAQ.php"
                                class="" title="FAQ">
                                                                FAQ
                                                                 </a>
                                                    </li>
                                                    <li class=""><a href="about.php"
                                class="" title="AboutUs">
                                                                About Us
                                                                 </a>
                                                    </li>

                                                                                                <li class=""><a href="contact.php"
                                class="" title="Contact Us">
                                                                Contact Us
                                                                 </a>
                                                    </li>
                                                                                                <li class=""><a href="login.php"
                                class="" title="Login">
                                                                Login
                                                                 </a>
                                                    </li>
                                                                                            </ul>
                </div>
                <!-- <a href="javascript:void(0);" style="font-size:15px;" class="icon" onclick="myFunction()">&#9776;</a> -->
                        </div>
        </div>

        <div class="clear"></div>
    </header>
    <main>
    <?php
// Include the database connection file
include_once './includes/db.inc.php';

// Perform the SQL query for total applicants
$query_applicants = "SELECT branch, COUNT(DISTINCT name) AS total_applicants FROM applied GROUP BY branch";
$result_applicants = mysqli_query($conn, $query_applicants);

// Perform the SQL query for total students
$query_students = "SELECT branch, COUNT(*) AS total_students FROM studentlogin GROUP BY branch";
$result_students = mysqli_query($conn, $query_students);

// Check if the queries were successful
if (!$result_applicants || !$result_students) {
    die("Error in query: " . mysqli_error($conn));
}

// Fetch total applicants data
$branch_applicants = [];
$total_applicants = [];
while ($row = mysqli_fetch_assoc($result_applicants)) {
    $branch_applicants[] = $row['branch'];
    $total_applicants[] = $row['total_applicants'];
}

// Fetch total students data
$branch_students = [];
$total_students = [];
while ($row = mysqli_fetch_assoc($result_students)) {
    $branch_students[] = $row['branch'];
    $total_students[] = $row['total_students'];
}
$sql = "SELECT 
            c.companyname, 
            COALESCE(s.number_of_students_selected, 0) AS number_of_students_selected
        FROM 
            (SELECT DISTINCT companyname FROM applied) c
        LEFT JOIN 
            (SELECT companyname, COUNT(*) AS number_of_students_selected 
             FROM applied 
             WHERE status = 'Selected' 
             GROUP BY companyname) s 
        ON c.companyname = s.companyname
    ";

    // Execute the query
    $result = $conn->query($sql);

    // Prepare data for the chart
    $companyNames = [];
    $studentCounts = [];

    if ($result->num_rows > 0) {
        while ($row = $result->fetch_assoc()) {
            $companyNames[] = htmlspecialchars($row["companyname"], ENT_QUOTES, 'UTF-8');
            $studentCounts[] = $row["number_of_students_selected"];
        }
    } else {
        echo "0 results";
    }


// Free result sets
mysqli_free_result($result_applicants);
mysqli_free_result($result_students);
?>

<!DOCTYPE html>
<html>
<head>
    <title>Applicants and Students by Branch</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* Center the title */
        h1 {
        font-size: 36px; /* Adjust font size as needed */
        font-weight: bold; /* Make the text bold */
        color: #333; /* Set the text color */
        text-align: center; /* Center align the text */
        margin-top: 40px; /* Add some space above the heading */
        margin-bottom: 20px; /* Add some space below the heading */
    }
        .chart-container {
            margin: 20px;
        }
        .radio-buttons label {
            display: inline-block;
            margin-right: 5px;
        }
        .radio-buttons {
            display: flex;
            justify-content: center;
        }
     
        h3 {
        font-size: 30px; /* Adjust font size as needed */
        font-weight: bold; /* Make the text bold */
        color: #333; /* Set the text color */
        margin-top: 20px; /* Add some space above the heading */
        margin-bottom: 10px; /* Add some space below the heading */
        text-align: center; /* Center align the text */
    }

    </style>
</head>
<body>
<h1>Visual Representation</h1>
<div class="chart-container">
    <h2>Total Students By Branch</h2>
    <canvas id="studentChart" width="400" height="400"></canvas>
</div>
<div class="chart-container">
    <h2>Total Number of Applicants by Branch</h2>
    <canvas id="applicantChart" width="400" height="400"></canvas>
</div>
<div class="chart-container">
    <h2>Total Number of Applicants vs Total Students by Branch</h2>
    <canvas id="combinedChart" width="400" height="400"></canvas>
</div>
<div class="chart-container">
<h2>Company Selection Chart</h2>
    <canvas id="companyChart" width="400" height="400"></canvas>
</div>

<div class="chart-container">
<h2>Seacrh to get graphs by branch</h2>
    <div style="text-align: center;">
        <form action="" method="GET">
            <fieldset style="display: inline-block;">
                <legend>Select Branch:</legend>
                <div class="radio-buttons">
                    <?php
                    // Display radio buttons for selecting branches
                    foreach ($branch_students as $branch) {
                        echo "<label>";
                        echo "<input type='radio' name='branch' value='" . htmlspecialchars($branch) . "'";
                        if (isset($_GET['branch']) && $_GET['branch'] === $branch) {
                            echo " checked";
                        }
                        echo ">" . htmlspecialchars($branch);
                        echo "</label>";
                    }
                    ?>
                </div>
            </fieldset>
            <input type="submit" value="Search">
        </form>
    </div>
    <?php
    // Display search results if a branch is selected
    function sanitize($input) {
        return htmlspecialchars($input, ENT_QUOTES, 'UTF-8');
    }
    
    // Check if the branch parameter is set in the URL
    if(isset($_GET['branch'])) {
        $selected_branch = sanitize($_GET['branch']);
    
        // Perform the SQL query to count applicants and students in the selected branch
        $sql_applicants = "SELECT COUNT(DISTINCT name) AS num_applicants FROM applied WHERE branch = ?";
        $sql_students = "SELECT COUNT(DISTINCT id) AS num_students FROM studentlogin WHERE branch = ?";
        $sql_selected = "SELECT COUNT(DISTINCT name) AS selected_students FROM applied WHERE branch = ? AND status='selected'";
    
        // Prepare and execute statements
        $stmt_applicants = $conn->prepare($sql_applicants);
        $stmt_applicants->bind_param("s", $selected_branch);
        $stmt_applicants->execute();
        $result_applicants = $stmt_applicants->get_result();
    
        $stmt_students = $conn->prepare($sql_students);
        $stmt_students->bind_param("s", $selected_branch);
        $stmt_students->execute();
        $result_students = $stmt_students->get_result();

        $stmt_selected = $conn->prepare($sql_selected);
        $stmt_selected->bind_param("s", $selected_branch);
        $stmt_selected->execute();
        $result_selected = $stmt_selected->get_result();
    
        $applicants_count = ($result_applicants->num_rows > 0) ? $result_applicants->fetch_assoc()['num_applicants'] : 0;
        $students_count = ($result_students->num_rows > 0) ? $result_students->fetch_assoc()['num_students'] : 0;
        $selected_count = ($result_selected->num_rows > 0) ? $result_selected->fetch_assoc()['selected_students'] : 0;

        // Chart for applicants vs students
        echo "<h3>Number of Students vs Number of Applicants by Branch: $selected_branch</h3>";
        echo "<canvas id='myChart' width='400' height='400'></canvas>";
        echo "<script>
                var ctx = document.getElementById('myChart').getContext('2d');
                var myChart = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: ['Applicants', 'Students'],
                        datasets: [{
                            label: 'Number of Applicants and Students',
                            data: [$applicants_count, $students_count],
                            backgroundColor: [
                                'rgba(255, 99, 132, 0.2)',
                                'rgba(54, 162, 235, 0.2)'
                            ],
                            borderColor: [
                                'rgba(255, 99, 132, 1)',
                                'rgba(54, 162, 235, 1)'
                            ],
                            borderWidth: 2
                        }]
                    },
                    options: {
                        scales: {
                            y: {
                                beginAtZero: true,
                                stepSize: 1
                            }
                        }
                    }
                });
              </script>";

        // Pie chart for selected students vs total applicants
        echo "<h3>Number of Selected Students vs Number of Applicants by Branch: $selected_branch</h3>";
        echo "<canvas id='selectedChart' width='400' height='400'></canvas>";
        echo "<script>
                var selectedCtx = document.getElementById('selectedChart').getContext('2d');
                var selectedChart = new Chart(selectedCtx, {
                    type: 'pie',
                    data: {
                        labels: ['Selected Students', 'Total Applicants'],
                        datasets: [{
                            data: [$selected_count, $applicants_count],
                            backgroundColor: [
                                'rgba(75, 192, 192, 0.6)',
                                'rgba(255, 159, 64, 0.6)'
                            ],
                            borderColor: [
                                'rgba(75, 192, 192, 1)',
                                'rgba(255, 159, 64, 1)'
                            ],
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        plugins: {
                            legend: {
                                position: 'top',
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        var label = context.label || '';
                                        var value = context.raw;
                                        var total = context.chart.data.datasets[0].data.reduce((a, b) => a + b, 0);
                                        var percentage = ((value / total) * 100).toFixed(2) + '%';
                                        return label + ': ' + value + ' (' + percentage + ')';
                                    }
                                }
                            }
                        }
                    }
                });
              </script>";
    
        // Chart for applicants by company
        $sql_companies = "SELECT companyname, COUNT(DISTINCT name) AS num_applicants FROM applied WHERE branch = ? GROUP BY companyname";
        $stmt_companies = $conn->prepare($sql_companies);
        $stmt_companies->bind_param("s", $selected_branch);
        $stmt_companies->execute();
        $result_companies = $stmt_companies->get_result();
    
        if ($result_companies->num_rows > 0) {
            $labels = [];
            $data = [];
    
            while($row = $result_companies->fetch_assoc()) {
                $labels[] = $row['companyname'];
                $data[] = $row['num_applicants'];
            }
    
            // Chart for applicants by company
            echo "<h3>Number of Applicant in Different company by Branch: $selected_branch</h3>";
            echo "<canvas id='myChart2'width='400' height='400'></canvas>";
            echo "<script>
                    var ctx2 = document.getElementById('myChart2').getContext('2d');
                    var myChart2 = new Chart(ctx2, {
                        type: 'bar',
                        data: {
                            labels: " . json_encode($labels) . ",
                            datasets: [{
                                label: 'Number of Applicants',
                                data: " . json_encode($data) . ",
                                backgroundColor: 'rgba(54, 162, 235, 0.6)',
                                borderColor: 'rgba(54, 162, 235, 1)',
                                borderWidth: 1
                            }]
                        },
                        options: {
                            scales: {
                                y: {
                                    beginAtZero: true,
                                    stepSize: 1
                                }
                            }
                        }
                    });
                  </script>";
        } else {
            echo "<p>No applicants found for the selected branch: $selected_branch.</p>";
        }
    
        // Free result sets
        $stmt_applicants->close();
        $stmt_students->close();
        $stmt_selected->close();
        $stmt_companies->close();
    }
    ?>
</div>

<script>
    var branch_applicants = <?php echo json_encode($branch_applicants); ?>;
    var total_applicants = <?php echo json_encode($total_applicants); ?>;
    var branch_students = <?php echo json_encode($branch_students); ?>;
    var total_students = <?php echo json_encode($total_students); ?>;

    var applicantCtx = document.getElementById('applicantChart').getContext('2d');
    var applicantChart = new Chart(applicantCtx, {
        type: 'bar',
        data: {
            labels: branch_applicants,
            datasets: [{
                label: 'Total Applicants by Branch',
                data: total_applicants,
                backgroundColor: 'rgba(54, 162, 235, 0.6)',
                borderColor: 'rgba(54, 162, 235, 1)',
                borderWidth: 1
            }]
        },
        options: {
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        }
    });

    var studentCtx = document.getElementById('studentChart').getContext('2d');
    var studentChart = new Chart(studentCtx, {
        type: 'pie',
        data: {
            labels: branch_students,
            datasets: [{
                label: 'Total Students by Branch',
                data: total_students,
                backgroundColor: [
                    'rgba(255, 99, 132, 0.6)',
                    'rgba(54, 162, 235, 0.6)',
                    'rgba(255, 206, 86, 0.6)',
                    'rgba(75, 192, 192, 0.6)',
                    'rgba(153, 102, 255, 0.6)'
                ],
                borderColor: [
                    'rgba(255, 99, 132, 1)',
                    'rgba(54, 162, 235, 1)',
                    'rgba(255, 206, 86, 1)',
                    'rgba(75, 192, 192, 1)',
                    'rgba(153, 102, 255, 1)'
                ],
                borderWidth: 1
            }]
        },
        options: {
            responsive: true
        }
    });

    var combinedCtx = document.getElementById('combinedChart').getContext('2d');
var combinedChart = new Chart(combinedCtx, {
    type: 'polarArea', // Polar Area Chart: Displays data in the form of concentric circles.
    data: {
        labels: branch_applicants,
        datasets: [{
            label: 'Total Applicants',
            data: total_applicants,
            backgroundColor: ['rgba(54, 162, 235, 0.6)', 'rgba(255, 99, 132, 0.6)', 'rgba(75, 192, 192, 0.6)', 'rgba(255, 205, 86, 0.6)', 'rgba(153, 102, 255, 0.6)'],
            borderColor: ['rgba(54, 162, 235, 1)', 'rgba(255, 99, 132, 1)', 'rgba(75, 192, 192, 1)', 'rgba(255, 205, 86, 1)', 'rgba(153, 102, 255, 1)'],
            borderWidth: 1
        }]
    },
    options: {
        scales: {
            y: {
                beginAtZero: true
            }
        }
    }
});

var companyNames = <?php echo json_encode($companyNames); ?>;
    var studentCounts = <?php echo json_encode($studentCounts); ?>;

    // Create a grouped bar chart
    var ctx = document.getElementById('companyChart').getContext('2d');
    var companyChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: companyNames,
            datasets: [{
                label: 'Number of Students Selected',
                data: studentCounts,
                backgroundColor: 'rgba(75, 192, 192, 0.2)',
                borderColor: 'rgba(75, 192, 192, 1)',
                borderWidth: 1
            }]
        },
        options: {
            indexAxis: 'y', // Display bars horizontally
            scales: {
                x: {
                    beginAtZero: true
                }
            }
        }
    });

</script>
</main>
</body>
</html>


<footer class="footer-wrap" style="margin-top: 50px;">
            <div class="footer-top">
                <div class="Main_page">
                    <div class="row">
                        <div class="col-lg-2">
                            <div class="footer-box">
                                <a class="footer-logo" href="index.php" title="UMIT"><img
                                        src="images/logo/logo.png" alt="UMIT"></a>
                                                                <p>UMIT, SNDT Women's University, Juhu-Tara Road, Sir Vitthaldas Vidyavihar, Santacruz(W),
Mumbai 400049
</p>
                                      
                            </div>
                         </div>
                        <div class="col-lg-2">
                            <div class="footer-box">
                                                                <h3>SNDT University</h3>
                                                                <ul>
                                                                                                                                                <li><a href="https://maps.app.goo.gl/59FSiPyCerr7uwxm9" title="Mumbai Juhu"> Mumbai Juhu Campus</a></li>
                                                                                                                                                <li><a href="https://maps.app.goo.gl/iZE6eiXVEBw9MEUP7" title="Mumbai Churchgate"> Mumbai Churchgate Campus</a></li>
                                                                                                                                                <li><a href="https://maps.app.goo.gl/HYUX2om651CznJJq9" title="Pune"> Pune Campus</a></li>
                                                                                                                                            </ul>
                            </div>
                        </div>

                        
                        <div class="col-lg-2">
                            <div class="footer-box">
                                                                <h3>Quick Links</h3>
                                                                <ul>
                                                                                                                                                                                                                        <li><a href="index.php" target="_self" title="Home">

                                            Home</a></li>
                                                                                                                                                                                                                        <li><a href="https://www.aicte-india.org/" target="_blank" title="AICTE">
                                            AICTE</a></li>
                                                                                                                                                                                                                        <li><a href="https://sndt.ac.in/" target="_blank" title="SNDT">
                                            SNDT</a></li>
                                                                                                                                                                                                                        <li><a href="https://umit.vaave.com/" target="_blank" title="Alumini">
                                            Alumni</a></li>
                                                                                                                                                                                                                        <li><a href="https://dte.maharashtra.gov.in/" target="_blank" title="DTE">
                                            DTE</a></li>
                                                                                                                                                                                                                        <li><a href="https://www.umit.ac.in/student-life" target="_blank" title="Student Life">
                                            Student Life</a></li>

                                            <li><a href="FAQ.php" target="_self" title="FAQ">
                                            FAQ</a></li>
                                                                                                                                                                                                                        
                                                                                                                                            </ul>
                            </div>
                        </div>

                        <div class="col-lg-2">
                            <div class="footer-box">
                                                                <h3>Reach Us</h3>
                                                                <ul>
                                                                                                                                                
                                                                        <li><a href="contact.php" target="_blank" title="Contact Us"> Contact Us</a>
                                    </li>
                                                                                                                                                
                                                                        <li><a href="feedback.php" target="_blank" title="Feedback / Queries"> Feedback / Queries</a>
                                    </li>
                                                                                                                                            </ul>
                            </div>
                        </div>

                    
                        <div class="col-lg-2">

                            <div class="footer-box">
                                                                <h3>Get In Touch</h3>
                                                                <ul class="location">
                                    <li> <a href="#"><i class="fa fa-map-marker" aria-hidden="true"></i><span
                                                style="display: inline-block; width: calc(100% - 50px); ">
                                                SNDT Women's University
Juhu Road,
Santacruz (West),
Mumbai 400049

                                                                                            </span></a> </li>
                                    <li> <a href="#"><i class="fa fa-phone"></i>Tel: 022-2660 8493
        </a> </li>
                                    <li> <a href="#"><i class="fa fa-envelope"
                                                aria-hidden="true"></i>office@umit.sndt.ac.in
</a> </li>

                                    <li> <a href="#"><i class="fa fa-clock-o" aria-hidden="true"></i>
                                                                                        Mon - Fri: 9am to 5pm
                                                                                    </a></li>

                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <button onclick="topFunction()" id="myBtn" title="Go to top"><i class="fa fa-chevron-up"
                    aria-hidden="true"></i></button>


            <!--<div class="footer-med">
      <div class="Main_page">
        <p>@Copyright 2023 <span class="sep">In publishing and graphic design, Lorem ipsum is a</span></p>
      </div>
    </div>-->
            <div class="footer-bottom">
                <div class="Main_page">
                    <!--<ul class="footer-bt-nav">
                                               
                                  <li><a href="https://sameer.gov.in/help">Help</a></li> 
                                                   
                                  <li><a href="https://sameer.gov.in/sitemap">Site Map</a></li> 
                                                   
                                  <li><a href="https://sameer.gov.in/downloads">Downloads</a></li> 
                                                   
                                  <li><a href="https://sameer.gov.in/privacy_policy">Privacy Policy And Terms &amp; Conditions</a></li> 
                                                         
          </ul> -->
                                        <p class="text-center">Website Designed, Developed and Hosted by Information Technology Department - IT | SRUSHTI | SAKSHI | KOMAL<br>
                                        Copyright © SNDT Women's University 2023.

. All right reserved.</p>
                    

                    
                </div>
            </div>

        </footer>
        <script src="https://sameer.gov.in/public/website/js/jquery.min.js "></script>
        <!--<script src="https://sameer.gov.in/public/website/js/bootstrap.min.js "></script>-->
        <script src="https://sameer.gov.in/public/website/js/bootstrap.bundle.min.js "></script>
        <script src="https://sameer.gov.in/public/website/js/owl.carousel.min.js "></script>
        <script src="https://sameer.gov.in/public/website/js/slick.js"></script>
        <script src="https://sameer.gov.in/public/website/js/jquery.marquee.js "></script>
        <script src="https://sameer.gov.in/public/website/js/fancybox.umd.js "></script>
        <script src="https://sameer.gov.in/public/website/js/styleswitch.js "></script>
        <script src="https://sameer.gov.in/public/website/js/jquery.easy-ticker.min.js "></script>
        <script src="https://sameer.gov.in/public/website/js/custon.js "></script>
        <script src="https://sameer.gov.in/public/website/js/custom.js "></script>

        <script>
        // Get the button
        let mybutton = document.getElementById("myBtn");

        // When the user scrolls down 20px from the top of the document, show the button
        window.onscroll = function() {
            scrollFunction()
        };

        function scrollFunction() {
            if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
                mybutton.style.display = "block";
            } else {
                mybutton.style.display = "none";
            }
        }

        // When the user clicks on the button, scroll to the top of the document
        function topFunction() {
            document.body.scrollTop = 0;
            document.documentElement.scrollTop = 0;
        }
        </script>
        <script>
        function myFunction() {
            var x = document.getElementById('myTopnav');
            if (x.className === 'topnav') {
                x.className += ' responsive';
            } else {
                x.className = 'topnav';
            }
        }
        </script>

        <script>
        var url = "https://sameer.gov.in/lang/change";
        $(".changeLang").click(function() {
            var id = document.getElementById('lang').value;
            window.location.href = url + "?lang=" + id;
        });
        </script>
        <script>
        $(document).ready(function() {
            $('#marquee-vertical').marquee({
                direction: 'vertical',
                delay: 0,
                timing: 50,
            });
            $('#marquee-vertical1').marquee({
                direction: 'vertical',
                delay: 0,
                timing: 50,
            });
            // $('.owl-carousel').owlCarousel({
            //   loop: true,
            //   margin: 10,
            //   responsiveClass: true,
            //   responsive: {
            //     0: {
            //       items: 1,
            //       nav: true
            //     },
            //     600: {
            //       items: 3,
            //       nav: false
            //     },
            //     1000: {
            //       items: 5,
            //       nav: true,
            //       loop: false,
            //       margin: 20
            //     }
            //   }
            // })

            $('.owl-carousel').owlCarousel({
                items: 5,
                loop: true,
                margin: 10,
                responsiveClass: true,
                responsive: {
                    0: {
                        items: 1,
                        nav: true,
                    },
                    600: {
                        items: 3,
                        nav: false,
                    },
                    1000: {
                        items: 5,
                        nav: true,
                        loop: false,
                        margin: 20,
                    },
                },
            });

            $('.tabs-nav a').click(function() {
                // Check for active
                $('.tabs-nav li').removeClass('active');
                $(this).parent().addClass('active');

                // Display active tab
                $('.tabs-content > div').removeClass('tabActive');
                let currentTab = $(this).attr('href');
                $('.tabs-content > div').hide();
                $(currentTab).addClass('tabActive');
                $(currentTab).show();

                return false;
            });

            $('#skipMain').on('click', function() {
                $('html, body').animate({
                    scrollTop: $('#mainContent').position().top,
                });
            });
        });
        </script>
        <script >
        function serach_content() {
            var search = $('#srch').val();
            if ((search == '') || (search == 'Search') || (search == 'Please Enter Keyword')) {
                $('#srch').val("Please Enter Keyword").css("color", "red");
                return false;
            }
            var url = "/search/node/";
            window.location.href = url + search;
            return false;
        }

        function handle(e) {
            if (e.keyCode === 13) {
                e.preventDefault(); // Ensure it is only this code that rusn
                //alert("Enter was pressed was presses");
                var search = jQuery('#srch').val();
                if ((search == '') || (search == 'Search') || (search == 'Please Enter Keyword')) {
                    jQuery('#srch').val("Please Enter Keyword");
                    return false;
                }

                var url = "//search/node/";
                window.location.href = url + search;
                return false;
            }
        }
        </script>
        <!--<script language="JavaScript">      
    window.onload = function () {
        document.addEventListener("contextmenu", function (e) {
            e.preventDefault();
        }, false);
        document.addEventListener("keydown", function (e) {
            //document.onkeydown = function(e) {
            // "I" key
            if (e.ctrlKey && e.shiftKey && e.keyCode == 73) {
                disabledEvent(e);
            }
            // "J" key
            if (e.ctrlKey && e.shiftKey && e.keyCode == 74) {
                disabledEvent(e);
            }
            // "S" key + macOS
            if (e.keyCode == 83 && (navigator.platform.match("Mac") ? e.metaKey : e.ctrlKey)) {
                disabledEvent(e);
            }
            // "U" key
            if (e.ctrlKey && e.keyCode == 85) {
                disabledEvent(e);
            }
            // "F12" key
            if (event.keyCode == 123) {
                disabledEvent(e);
            }
        }, false);
        function disabledEvent(e) {
            if (e.stopPropagation) {
                e.stopPropagation();
            } else if (window.event) {
                window.event.cancelBubble = true;
            }
            e.preventDefault();
            return false;
        }
    }

</script>-->
<!--<script>
  $('a').on('click', function() {

if ( this.host !== window.location.host ) {
    if ( window.confirm('This link shall take you to a page/website outside this website?') ) {
        // They clicked Yes
        console.log('you chose to leave. bye.');
    }
    else {
        // They clicked no
        console.log('you chose to stay here.');
        return false
    }
}
});
</script>-->
<script>
    // Data for the chart
    const years = ["2017-18", "2018-19", "2019-20", "2020-21", "2021-22"];
    const placements = [75, 102, 109, 159, 177]; // Number of students placed for each year

    // Create the chart
    const ctx = document.getElementById('placementChart').getContext('2d');
    const myChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: years,
            datasets: [{
                label: 'Students Placed',
                data: placements,
                backgroundColor: [
                    'rgba(255, 99, 132, 0.7)', // Red with transparency
                    'rgba(54, 162, 235, 0.7)', // Blue with transparency
                    'rgba(255, 206, 86, 0.7)', // Yellow with transparency
                    'rgba(75, 192, 192, 0.7)', // Green with transparency
                    'rgba(153, 102, 255, 0.7)' // Purple with transparency
                ],
                borderColor: [
                    'rgba(255, 99, 132, 1)', // Red
                    'rgba(54, 162, 235, 1)', // Blue
                    'rgba(255, 206, 86, 1)', // Yellow
                    'rgba(75, 192, 192, 1)', // Green
                    'rgba(153, 102, 255, 1)' // Purple
                ],
                borderWidth: 1
            }]
        },
        options: {
            scales: {
                y: {
                    beginAtZero: true, // Start the y-axis from 0
                    grid: {
                        color: 'rgba(0, 0, 0, 0.1)' // Light gray grid lines
                    },
                    ticks: {
                        font: {
                            size: 14, // Font size for y-axis labels
                            family: 'Arial' // Font family for y-axis labels
                        }
                    }
                },
                x: {
                    grid: {
                        display: false // Hide x-axis grid lines
                    },
                    ticks: {
                        font: {
                            size: 14, // Font size for x-axis labels
                            family: 'Arial' // Font family for x-axis labels
                        }
                    }
                }
            },
            plugins: {
                legend: {
                    display: false // Hide legend
                }
            },
            animation: {
                duration: 2000, // Animation duration in milliseconds
                easing: 'easeInOutQuart' // Smooth easing animation
            }
        }
    });
</script>
</body>

</html>


